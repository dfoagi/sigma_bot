# ü§ñ Sigma Support Bot

Telegram-–±–æ—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–º–æ–≥–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –Ω–∞—Ö–æ–¥–∏—Ç—å –æ—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –ø–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤—É –ø—Ä–æ–¥—É–∫—Ç–∞ **Sigma**. –ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ —è–∑—ã–∫–æ–≤—É—é –º–æ–¥–µ–ª—å (LLM), –∏—â–µ—Ç –æ—Ç–≤–µ—Ç—ã –≤ –≤–µ–∫—Ç–æ—Ä–Ω–æ–π –±–∞–∑–µ `Qdrant` –∏ –Ω–∞–ø–∏—Å–∞–Ω –Ω–∞ `Python + Aiogram`.

---

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –≤–æ–ø—Ä–æ—Å–æ–≤ —á–µ—Ä–µ–∑ LLM (GPT, Claude, Gemini)
- –ü–æ–∏—Å–∫ –ø–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤—É —á–µ—Ä–µ–∑ Qdrant (–≤–µ–∫—Ç–æ—Ä–Ω–∞—è –ë–î)
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–æ–ø—Ä–æ—Å–æ–≤/–æ—Ç–≤–µ—Ç–æ–≤ –≤ Excel
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ—á–µ—Ä–µ–¥–µ–π (`asyncio.Queue`)
- –ö–æ–º–∞–Ω–¥–∞ `/set_model` —Å –≤—ã–±–æ—Ä–æ–º –º–æ–¥–µ–ª–∏
- FSM, –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Å–ø–∞–º–µ—Ä–æ–≤, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ –≤—Ä–µ–º–µ–Ω–∏

---

## ‚öôÔ∏è –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- üêç Python 3.11+
- ü§ñ Aiogram 3.x
- üîç Qdrant (–æ–±–ª–∞—á–Ω–∞—è –≤–µ–∫—Ç–æ—Ä–Ω–∞—è –ë–î)
- üß† OpenAI / Gemini / Claude (LLM)
- üê≥ Docker + Docker Compose
- üìä OpenPyXL (–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ Excel)

---

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –ö–ª–æ–Ω–∏—Ä—É–π –ø—Ä–æ–µ–∫—Ç:

```bash
git clone https://github.com/you/sigma-bot.git
cd sigma-bot
```

### 2. –°–æ–∑–¥–∞–π `.env` —Ñ–∞–π–ª:

```env
BOT_TOKEN=your_telegram_bot_token
ADMIN_ID=123456789
OPENAI_API_KEY=your_openai_key
OPENAI_BASE_URL=https://api.proxyapi.ru/openai
PROXYAPI_KEY=your_proxyapi_key
QDRANT_URL=https://your-cloud-qdrant-host
QDRANT_API_KEY=your_qdrant_api_key
QDRANT_COLLECTION=sigmaRP_large
```

### 3. –ó–∞–ø—É—Å—Ç–∏ —á–µ—Ä–µ–∑ Docker:

```bash
docker compose up --build -d
```

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
‚îú‚îÄ‚îÄ bot/
‚îÇ   ‚îú‚îÄ‚îÄ handlers/         # user.py, admin.py, system.py
‚îÇ   ‚îî‚îÄ‚îÄ main.py
‚îú‚îÄ‚îÄ core/                 # get_answer, qdrant, LLM –≤—ã–∑–æ–≤—ã
‚îú‚îÄ‚îÄ helper/               # –º–æ–¥–µ–ª—å, –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏, –∫–ª–∏–µ–Ω—Ç—ã
‚îú‚îÄ‚îÄ logging/              # –æ—á–µ—Ä–µ–¥—å –ª–æ–≥–æ–≤ –∏ –ª–æ–≥–≥–µ—Ä—ã
‚îú‚îÄ‚îÄ logs/                 # Excel-—Ñ–∞–π–ª —Å –ª–æ–≥–∞–º–∏
‚îú‚îÄ‚îÄ Dockerfile
‚îú‚îÄ‚îÄ docker-compose.yml
‚îú‚îÄ‚îÄ requirements.txt
‚îú‚îÄ‚îÄ .env
‚îî‚îÄ‚îÄ README.md
```

---

## üìå –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

- `/start` ‚Äî –∑–∞–ø—É—Å–∫
- `/set_model` ‚Äî –≤—ã–±–æ—Ä –º–æ–¥–µ–ª–∏ (–¥–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω—É)
- `/model` ‚Äî —Ç–µ–∫—É—â–∞—è –º–æ–¥–µ–ª—å
- `–≤–æ–ø—Ä–æ—Å` ‚Äî –ª—é–±–æ–π —Ç–µ–∫—Å—Ç, –±–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –ø–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤—É

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- `.env` –¥–æ–±–∞–≤–ª–µ–Ω –≤ `.gitignore`
- –ö–æ–º–∞–Ω–¥—ã –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω—ã –ø–æ `ADMIN_ID`
- –õ–∏–º–∏—Ç—ã –Ω–∞ —á–∞—Å—Ç—ã–µ –∑–∞–ø—Ä–æ—Å—ã + FSM

---

## üõ†Ô∏è TODO (–ø–æ –∂–µ–ª–∞–Ω–∏—é)

- [ ] –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –ë–î
- [ ] –ü–æ–¥–∫–ª—é—á–∏—Ç—å Telegram WebApp
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `/export_logs`
- [ ] –î–æ–±–∞–≤–∏—Ç—å CI/CD —á–µ—Ä–µ–∑ GitHub Actions

---

## üë®‚Äçüíª –ê–≤—Ç–æ—Ä

–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞: [@yourname](https://t.me/yourname)  
–ü–æ–¥–¥–µ—Ä–∂–∫–∞: support@3ksigma.ru